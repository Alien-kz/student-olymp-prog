\documentclass[12pt, a4paper]{article}

\usepackage[T2A]{fontenc}		%cyrillic output
\usepackage[utf8]{inputenc}		%cyrillic output
\usepackage[english, russian]{babel}	%word wrap
\usepackage{amssymb, amsfonts, amsmath}	%math symbols
\usepackage{mathtext}			%text in formulas
\usepackage{geometry}			%paper format attributes
\usepackage{fancyhdr}			%header
\usepackage{graphicx}			%input pictures
\usepackage{tikz}				%draw pictures
\usetikzlibrary{patterns}		%draw pictures: fill
\usetikzlibrary{calc}			%draw pictures: coordinate calc
% \usetikzlibrary{external}		%draw pictures: cache pitcures
% \tikzexternalize				%cache pictures
\usepackage{listofitems}		%list of arguments (pictures)
\usepackage{enumitem}			%enumarate parameters
\usepackage{titlesec}			%new subsection option


\geometry{left=1cm, right=1cm, top=2cm, bottom=1cm, headheight=15pt}
\setlist[enumerate]{leftmargin=*}	%remove enumarate indenttion
\sloppy							%correct overfull
\newcommand{\subsectionbreak}{\clearpage} %new section

\newcommand{\head}[4]
{
	\pagestyle{fancy}
	\fancyhf{}
	\lhead{#3 \\ #2}
	\rhead{#1}
}


% format

\newcommand{\informat}[1]
{
	\paragraph{Ввод.\\} #1
}

\newcommand{\outformat}[1]
{
	\paragraph{Вывод.\\} #1
}

\newcommand{\example}[2]
{
	\paragraph{Пример.\\}
	{\tt
	\begin{tabular}{|p{0.4\linewidth}|p{0.4\linewidth}|}
	\hline
	Ввод & Вывод \\
	\hline
	#1 & #2		\\
	\hline
	\end{tabular}
	}
}

\newcommand{\examplee}[4]
{
	\paragraph{Пример.\\}
	{\tt
	\begin{tabular}{|p{0.4\linewidth}|p{0.4\linewidth}|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	#1 		& #2 		\\
	\hline
	#3		& #4		\\
	\hline
	\end{tabular}
	}
}

\newcommand{\examplEEE}[6]
{
	\paragraph{Пример.\\}
	{\tt
	\begin{tabular}{|p{0.5\linewidth}|p{0.3\linewidth}|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	#1 		& #2 		\\
	\hline
	#3		& #4		\\
	\hline
	#5		& #6		\\
	\hline
	\end{tabular}
	}
}

\newcommand{\exampleee}[6]
{
	\paragraph{Пример.\\}
	{\tt
	\begin{tabular}{|p{0.4\linewidth}|p{0.4\linewidth}|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	#1 		& #2 		\\
	\hline
	#3		& #4		\\
	\hline
	#5		& #6		\\
	\hline
	\end{tabular}
	}
}

\newcommand{\exampleeee}[8]
{
	\paragraph{Пример.\\}
	{\tt
	\begin{tabular}{|p{0.4\linewidth}|p{0.4\linewidth}|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	#1 		& #2 		\\
	\hline
	#3		& #4		\\
	\hline
	#5		& #6		\\
	\hline
	#7		& #8		\\
	\hline
	\end{tabular}
	}
}

\newcommand{\exampleeeee}[5]
{
	\paragraph{Пример.\\}
	{\tt
	\begin{tabular}{|p{0.4\linewidth}|p{0.4\linewidth}|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	#1		\\
	\hline
	#2		\\
	\hline
	#3		\\
	\hline
	#4		\\
	\hline
	#5		\\
	\hline
	\end{tabular}
	}
}

\newcommand{\examplepic}[3]
{
	\subsection*{Пример.}
	{\tt
	\noindent
	\begin{tabular}{|p{0.1\linewidth}|p{0.1\linewidth}|p{0.5\linewidth}|}
	\hline
	Ввод 	& Вывод  	& Пояснение\\
	\hline
	#1 		& #2 		& #3\\
	\hline
	\end{tabular}
	}
}


\newcommand{\excomm}[1]
{
	\paragraph{Комментарий. \\}
	\textit{#1}
}

\begin{document}

\head{Открытая олимпиада по программированию \\ Зимний тур 2015}{18 декабря 2015}{Казахстанский филиал МГУ имени М.В.Ломоносова}{г.~Астана}

\subsection*{A. Alexandra and Exam}

Александра начала готовиться к экзамену. На подготовку она выделила целых 2 недели. Сначала уровень ее знаний был $X$. После недели подготовки уровень ее знаний изменился на величину $Y$. Правда она так устала во время подготовки, что не помнит, повысился или понизился ее уровень знаний (такое тоже бывает). А после второй недели подготовки уровень изменился на величину $Z$. Александра считает, что она успешно подготовилась к экзамену, если окончательный уровень ее подготовки делится на 10 (даже если уровень знаний стал отрицательный). В конце Александра решила посчитать все возможные комбинации повышений и понижений уровня знаний, которые давали бы успешную подготовку и сложила их. Чему равна эта сумма? 

\informat{Три целых числа $X$, $Y$ и $Z$ от 1 до 10000.}

\outformat{Одно целое число -- сумму уровней знаний с успешной подготовкой (если таких успешных подготовок не было, вывести 0).}

\exampleeee{11 12 13}{10}{12 13 35}{50}{10 20 30}{40}{1 2 4}{0}

\excomm{В первом примере один вариант успешной подготовки:\\
{\tt (11+12-13) = 10}.\\ 
Во втором примере два варианта успешной подготовки:\\
{\tt (12+13+35)+(12+13-35) = 50}.\\
В третьем примере четыре успешных варианта подготовки:\\ 
{\tt (10+20+30)+(10+20-30)+(10-20+30)+(10-20-30) = 40}.\\
В последнем примере нет успешных вариантов подготовки.}



\subsection*{B. Ball and Snowy Cube}

Когда команда по спортивному программированию <<Снежный куб>> собирается вместе, то обладает некоторой <<снежной>> сферой знаний. Известно, что <<снежная>> сфера знаний --- это трехмерная сфера, которая обязательно должна помещаться в <<снежный>> куб. А <<снежный>> куб --- это трехмерный куб, у которого все ребра параллельны осям, у которого одна из вершин находится в точке (0, 0, 0). Вам необходимо определить, может ли данная сфера быть <<снежной>> сферой знаний какого-нибудь <<снежного>> куба. А если может, то вывести минимальную возможную длину ребра такого куба.

\informat{Три целых числа от $-10^9$ до $10^9$ -- координаты центра сферы и одно целое число от $1$ до $10^9$ -- радиус сферы.}

\outformat{Одно целое число -- сторону <<снежного>> куба, если он существует, или 0 иначе.}

\examplee{8 6 4 2}{10}{-1 2 -3 4}{0}



\subsection*{C. Calculation of Erulan Numbers}

Ерулан недавно обнаружил ряд замечательных чисел, которые сразу же назвал в свою честь. Число Ерулана порядка $k$ -- это $k$-значное число, которое делится на все свои цифры. Помогите Ерулану построить $n$ чисел Ерулана порядка $k$.

\informat{Два целых числа $k$ от 1 до 100 и $n$ от 1 до 1000.}

\outformat{$n$ целых положительных чисел Ерулана порядка $k$ (каждое на новой строке). Если таких чисел менее $n$, вывести 0. Если ответов несколько, разрешается вывести любой.}

\examplee{2 3}{11\newline 12\newline 15}{2 15}{0}



\subsection*{D. Do Rain Dance}

Мехматянин Али создал свою мехматянскую компьютерную сеть. Сеть состоит из $N$ компьютеров, пронумерованных от 1 до $N$. Теперь ему нужно наладить связь с сетью ВМК-шников, в которой $M$ компьютеров, пронумерованных от 1 до $M$. Однако эти 2 сети устроены совсем по-разному, поэтому соединить 2 компьютера из разных сетей не так просто: сложность соединения мехматянского компьютера номер $A$ с вмк-шным компьютером номер $B$ равна ($A+B^2$) <<ударам в бубен>> (знаменитые <<танцы с бубном>>). Для каждого мехматянского компьютера общая сложность его настройки равна сумме сложностей настройки соединений со всеми вмк-шными компьютерами. Чтобы полностью настроить сеть, Али необходимо соединить каждый мехматянский компьютер с каждым вмк-шным. Помогите вычислить количество <<ударов в бубен>>, которое необходимо будет совершить Али.

\informat{Два целых числа $N$ от 1 до $2*10^5$ и $M$ от 1 до $2*10^4$ -- количество компьютеров в мехматянской и вмк-шной сети соответственно.}

\outformat{Одно целое число -- количество <<ударов в бубен>>.}

\example{2 3}{37}

\excomm{Чтобы соеденить первый мехматянский компьютер с тремя вмк-шными необходимо $(1+1^2) + (1+2^2) + (1+3^2) = 17$ <<ударов в бубен>>, а чтобы соединить второй мехматянский с тремя вмк-шными необходимо $(2+1^2) + (2+2^2) + (2+3^2) = 20$ <<ударов в бубен>>.}



\subsection*{E. ECM and Cognitive Dissonance}

Чтобы сдать практикум на ЭВМ, необходимо решить несколько заранее подготовленных задач. Как было замечено, если сначала задачи пронумеровать целыми числами от 1 до $N$ по уровню сложности, а потом перемешать, то у студентов возникает <<когнитивный диссонанс>> от порядка задач. Причем, величина <<когнитивного диссонанса>> равна количеству пар задач под номером $i$ и $j$ таких, что $i < j$ и $i$-я задача выдается после $j$-й. Тимур точно, знает, что успешно решит все задачи, только если уровень <<когнитивного диссонанса>> от порядка задач равен в точности $k$. Помогите ему найти такой порядок выдачи задач, при котором Тимур успешно решит все задачи.

\informat{Два целых числа $n$ (от 1 до $10^5$) и $k$ (от 0 до $10^{18}$) размер массива и уровень <<когнитивного диссонанса>>.}

\outformat{Перестановку из $n$ целых чисел от 1 до $n$, если она существует, в которой уровень <<когнитивного диссонанса>> равен $k$, и 0 иначе. Если ответов несколько, разрешается вывести любой.}

\exampleee{4 3}{2 3 4 1}{4 5}{4 2 3 1}{4 100}{0}



\subsection*{F. Fibonacci and Prime Number}

Недавно Али начал готовить задачу на конференцию <<Ломоносов-2016>>. Один из пунктов задачи выглядит следующим образом: 

\textit{Дано число $N$. Проверить можно ли представить его в виде суммы простого и числа Фибоначчи или нельзя.}

Помогите Али быстрее справиться с этой задачей, ведь дальше ему нужно еще решить и более сложную задачу! 

\informat{Одно целое число $N$ от 1 до $10^{12}$.}

\outformat{Вывести два целых числа (первое -- простое, второе -- число Фибоначчи). Если разложения не существует, вывести два нуля. Если ответов несколько, то вывести тот, где число Фибоначчи наибольшее.}

\examplee{24}{3 21}{17}{0 0}

\excomm{Числа Фибоначчии определяются следующим образом: $F_1 = F_2 = 1$, $F_{n+1} = F_n + F_{n-1}$ для всех $n > 1$}.



\subsection*{G. Game of Castles}

Тимур не любит играть в компьютерные игры, потому что он любит их придумывать. Недавно, он начал разрабатывать пошаговую стратегию. Вот ее правила:

\textit{
В некотором государстве есть $N$ крепостей, которые постоянно воюют друг с другом. Каждая крепость имеет несколько стен, которые ее окружают -- это уровень защиты крепости (если стен не остается, то крепость считается разрушенной). Каждый ход жители некоторой крепости A нападают на другую крепость B. При этом на следующий ход жители этих крепостей считаются уставшими, а жители всех остальных крепостей бодрыми (изначально жители всех крепостей бодрые). Во время нападения A на B у крепости B рушатся несколько стен:
\begin{itemize}
\item 2 стены, если жители крепости A -- бодрые, а крепости B -- уставшие;
\item 1 стена, если жители крепостей A и B одновременно бодрые или уставшие;
\item 0 стен, если жители A -- уставшие, а жители B -- бодрые или если крепость A была разрушена до этого хода.
\end{itemize}
}

Тимур уже написал автоматическую стратегию, которая сама сделал несколько ходов. Выведите количество стен крепости после данных ходов!

\informat{Одно целое число $N$ от 2 до 10000 -- количество крепостей. На следующей строке $N$ целых чисел $a_1$, $a_2$, ..., $a_N$ (каждое от 1 до 100000) -- количество стен у соответствующей крепости. Далее целое число $M$ от 1 до 100000 -- количество атак. На следующих $M$ строках $M$ пар чисел $A_k$ и $B_k$ (каждое от 1 до $N$, причем $A_k \neq B_k$) -- атака $A_k$ крепости на $B_k$.}

\outformat{$N$ целых неотрицательных чисел через пробел -- количество стен у соответствующей крепости после описанных выше атак.}

\example{%
4		\newline
1 5 2 3	\newline
6		\newline
1 2		\newline
3 2		\newline
4 3		\newline
3 4		\newline
1 4		\newline
1 4}%
{1 2 0 0}

\excomm{(1,~5,~2,~3) $\Rightarrow$ 1(бодрые) против 2(бодрые) $\Rightarrow$\\
(1,~4,~2,~3) $\Rightarrow$ 3(бодрые) против 2(уставшие) $\Rightarrow$\\
(1,~2,~2,~3) $\Rightarrow$ 4(бодрые) против 3(уставшие) $\Rightarrow$\\
(1,~2,~0,~3) $\Rightarrow$ 3(уставшие) против 4(уставшие) $\Rightarrow$\\
(1,~2,~0,~2) $\Rightarrow$ 1(бодрые) против 4(уставшие) $\Rightarrow$\\
(1,~2,~0,~0) $\Rightarrow$ 1(уставшие) против 4(разрушенные) $\Rightarrow$\\
(1,~2,~0,~0)}

\end{document} 
